<!DOCTYPE html>
<html lang="en">
	<%- include('../partials/head.ejs') %>
	<body>
		<%- include('../partials/nav.ejs') %>
		<div class="container body">

      <div class="text-center">
        <img src="<%= user.picture %> " class="rounded-circle" alt="...">
        <h3 class="my-2">Hi, <%= user.username %></h3>
        <h6 class="mb-5">You have <%= courses.length %> course(s)</h6>
      </div>
      
      <h4 class="text-center">Your Course(s)</h4>
			<div class="row">
        <% if (courses.length > 0) { %> <% courses.forEach(course => { %>
				<div class="col-4 my-3 d-flex justify-content-center">
					<div class="card text-center" style="width: 18rem">
						<img
							src="https://i.ytimg.com/vi/<%= course.youtubeId %>/hq720.jpg"
							class="card-img-top"
							alt="<%= course.title %> "
						/>
						<div class="card-body">
							<h5 class="card-title"><%= course.title %></h5>
							<p class="card-text"><%= course.description %></p>
							<a href="/course/<%= course._id %>" class="btn btn-primary mt-3">
								See Course
							</a>
						</div>
					</div>
				</div>
        <% }) %> <% } else { %>
          <img class="empty" src="/img/empty.svg" alt="">
          <h6 class="text-center">You don't have any course</h6>
				<% } %>
      </div>
      
      <div class="text-center mt-5">
        <a
          class="btn btn-success mx-auto"
          data-bs-toggle="collapse"
          href="#collapseExample"
          role="button"
          aria-expanded="false"
          aria-controls="collapseExample"
        >
          Create New Course
        </a>
      </div>

			<div class="collapse my-3 mb-5" id="collapseExample">
				<div class="card">
					<div class="card-body">
						<!-- <h1>Create Course</h1> -->
						<form action="/course" method="POST">
							<div class="form-group">
								<label for="">Title</label>
								<input
									type="text"
									name="title"
									class="form-control"
									id="exampleInputEmail1"
									aria-describedby="emailHelp"
									required
								/>
							</div>
							<div class="form-group">
								<label for="">YouTube Video ID <code>example: https://www.youtube.com/watch?v=3OhLUYNw0TI YouTube Video ID: 3OhLUYNw0TI</code></label>
								<input
									type="text"
									name="youtubeId"
									class="form-control"
									id="exampleInputEmail1"
									aria-describedby="emailHelp"
									required
								/>
							</div>
							<div class="form-group">
								<label for="exampleInputPassword1">Description</label>
								<textarea
									class="form-control"
									rows="3"
									id="body"
									name="description"
								></textarea>
							</div>
							<div class="form-group">
								<label for="exampleInputPassword1">Author</label>
								<input
									type="text"
									name="author"
									class="form-control"
									id="exampleInputPassword1"
									value="<%= user.username %>"
									disabled
									required
								/>
              </div>
              <div class="text-center">
                <button class="btn btn-primary my-3 px-4">Create</button>
              </div>
						</form>
					</div>
				</div>
      </div>
      
		</div>
		<%- include('../partials/footer.ejs') %>
	</body>
</html>
